<!DOCTYPE HTML>
<html>
<head>
	<title>Snake</title>
	
	<style>		
		body {
                	background-color: #007755;
                	width: 1280px;
			height: 720px;
            		}
		.divTile {
			position: absolute;
			overflow: hidden;
                	width: 30px;
			height: 30px;
            		}
		.divBut1 {
			position: absolute;
			text-align: center;
			overflow: hidden;
                	background-color: #22FFFF;
                	width: 60px;
			height: 20px;
			left: 805px;
			top: 5px;
            		}
		.divBut2 {
			position: absolute;
			text-align: center;
			overflow: hidden;
                	background-color: #CC7777;
                	width: 60px;
			height: 20px;
			left: 870px;
			top: 5px;
            		}
		.divBut3 {
			position: absolute;
			text-align: center;
			overflow: hidden;
                	background-color: #FF1188;
                	width: 60px;
			height: 20px;
			left: 935px;
			top: 5px;
            		}
		.divBut4 {
			position: absolute;
			text-align: center;
			overflow: hidden;
                	background-color: #AAFF22;
                	width: 60px;
			height: 20px;
			left: 1000px;
			top: 5px;
            		}
		.p1 {
			position: absolute;
			text-align: center;
			overflow: hidden;
                	width: 60px;
			height: 20px;
			left: 805px;
			top: 30px;
            		}
		.p2 {
			position: absolute;
			text-align: center;
			overflow: hidden;
                	width: 60px;
			height: 20px;
			left: 870px;
			top: 30px;
            		}
		.p3 {
			position: absolute;
			text-align: center;
			overflow: hidden;
                	width: 60px;
			height: 20px;
			left: 935px;
			top: 30px;
            		}
		.p4 {
			position: absolute;
			text-align: center;
			overflow: hidden;
                	width: 60px;
			height: 20px;
			left: 1000px;
			top: 30px;
            		}
		#timerS {
			position: absolute;
    			left: 550px;
    			top: 5px;
    			font-size: 25px;
    			color: #462300;
		}
		#timerSD {
			position: absolute;
    			left: 550px;
    			top: 35px;
    			font-size: 25px;
    			color: #462300;
		}
		#timerSDS {
			position:absolute;
    			left: 550px;
    			top: 65px;
    			font-size: 25px;
    			color: #462300;
		}
		#timerSDSD {
			position:absolute;
    			left: 550px;
    			top: 95px;
    			font-size: 25px;
    			color: #462300;
		}
		#scoreS {
			position:absolute;
    			left: 805px;
    			top: 60px;
    			font-size: 25px;
    			color: #FFBB00;
		}
		#scoreSS {
			position:absolute;
    			left: 805px;
    			top: 85px;
    			font-size: 25px;
    			color: #FF7000;
		}
		#scoreSz {
			position:absolute;
    			left: 935px;
    			top: 60px;
    			font-size: 25px;
    			color: #AADD88;
		}
		#scoreSSz {
			position:absolute;
    			left: 935px;
    			top: 85px;
    			font-size: 25px;
    			color: #9999DD;
		}
	</style>
	
	<script>
		var timerActive = false;
		var timerTick = null;
		var totalSeconds = 0;
		var interv = 150;
		
		var timerActivez = false;
		var timerTickz = null;
		var totalSecondsz = 0;
		var intervz = 150;
		
		function doTimer(timerAction)
		{
			switch (timerAction)
			{
				case 'start':
					if(timerActive == false)
					{
						if(trueCrash == 1)
						{
							restS();
							trueCrash = 0;
						}
						
						divBut1.style.background = "#9988CC";
						timerTick = setInterval(function(){tick();}, interv);
						timerActive = true;
					}
					break;
				case 'stop':
					divBut1.style.background = "#22FFFF";
					clearInterval(timerTick);
					timerActive = false;
					break;
			}
			
			function tick()
			{
				if(intMin > 0)
				{
					intMin--;
					if(intMin == 0)
					{
						interv = 150;
						doTimer('stop');
						doTimer('start');
					}
				}
				driveTile();
			}
		}
		
		function doTimerz(timerActionz)
		{
			switch (timerActionz)
			{
				case 'start':
					if(timerActivez == false)
					{
						if(trueCrashz == 1)
						{
							restSz();
							trueCrashz = 0;
						}
						
						divBut1.style.background = "#9988CC";
						timerTickz = setInterval(function(){tickz();}, intervz);
						timerActivez = true;
					}
					break;
				case 'stop':
					divBut1.style.background = "#22FFFF";
					clearInterval(timerTickz);
					timerActivez = false;
					break;
			}
			
			function tickz()
			{
				if(intMinz > 0)
				{
					intMinz--;
					if(intMinz == 0)
					{
						intervz = 150;
						doTimerz('stop');
						doTimerz('start');
					}
				}
				driveTilez();
			}
		}
		
		function stopOrStart()
		{
			if(timerActive == false && timerActivez == false)
			{
				doTimer('start');
				doTimerz('start');
			}
			else
			{
				doTimer('stop');
				doTimerz('stop');
			}
		}
		
		var set = new Array(2);
		set[0] = new Array(36);
		set[1] = new Array(36);
		
		set[0][0] = 0; set[0][1] = 0; set[0][2] = 1; set[0][3] = 3; set[0][4] = 3; set[0][5] = 4; set[0][6] = 7;
		set[1][0] = 0; set[1][1] = 1; set[1][2] = 0; set[1][3] = 3; set[1][4] = 4; set[1][5] = 3; set[1][6] = 7;
		set[0][7] = 7; set[0][8] = 8; set[0][9] = 12; set[0][10] = 13; set[0][11] = 13; set[0][12] = 16; set[0][13] = 17;
		set[1][7] = 8; set[1][8] = 7; set[1][9] = 13; set[1][10] = 12; set[1][11] = 13; set[1][12] = 17; set[1][13] = 16;
		set[0][14] = 17; set[0][15] = 19; set[0][16] = 20; set[0][17] = 20; set[0][18] = 0; set[0][19] = 0; set[0][20] = 1;
		set[1][14] = 17; set[1][15] = 20; set[1][16] = 19; set[1][17] = 20; set[1][18] = 19; set[1][19] = 20; set[1][20] = 20;
		set[0][21] = 3; set[0][22] = 3; set[0][23] = 4; set[0][24] = 7; set[0][25] = 7; set[0][26] = 8; set[0][27] = 12;
		set[1][21] = 16; set[1][22] = 17; set[1][23] = 17; set[1][24] = 12; set[1][25] = 13; set[1][26] = 13; set[1][27] = 7;
		set[0][28] = 13; set[0][29] = 13; set[0][30] = 16; set[0][31] = 17; set[0][32] = 17; set[0][33] = 19; set[0][34] = 20;
		set[1][28] = 7; set[1][29] = 8; set[1][30] = 3; set[1][31] = 3; set[1][32] = 4; set[1][33] = 0; set[1][34] = 0;
		set[0][35] = 20;
		set[1][35] = 1;
		
		function mapSet()
		{
			for(i = 0; i < set[0].length; i++)
			{
				mas[set[0][i]][set[1][i]].style.background = "no-repeat url(images/hhhS.png)";
				mas[set[0][i]][set[1][i]].index = 1;
			}
		}
		
		function plusT(idT)
		{
			var elem = document.getElementById(idT);
			
			if(hhh == 0)
			{
				elem.style.background = "no-repeat url(images/eatS.png)";
				elem.index = 2;
			}
			if(hhh == 1)
			{
				elem.style.background = "no-repeat url(images/hhhS.png)";
				elem.index = 1;
			}
			if(hhh == 2)
			{
				elem.style.background = "#553377";
				elem.index = 0;
			}
		}
		
		function keyDown()
		{
			if (event.keyCode == 37 || event.keyCode == 39 ||event.keyCode == 38 || event.keyCode == 40 ||
				event.keyCode == 65 || event.keyCode == 68 ||event.keyCode == 87 || event.keyCode == 83 ||
				event.keyCode == 32 || event.keyCode == 96 )
			{
				self.focus;
				document.body.focus();
				tilePath();
				tilePathz();
			}
		}
		
		tileP = 0;
		tileBlock = 0;
		tileBlockG = 1;
		tileBlockV = 0;
		
		tilePz = 1;
		tileBlockz = 0;
		tileBlockGz = 1;
		tileBlockVz = 0;
		
		function tilePath()
		{
			// Left
			if ((event.keyCode == 65) && tileBlock == 0 && tileBlockG == 0)
			{
				tileP = 0;
				if (glu > 0)
				{
					tileP = 1;
					glu--;
				}
				tileBlock = 1;
				tileBlockG = 1;
				tileBlockV = 0;
			}
			// Right
			else if ((event.keyCode == 68) && tileBlock == 0 && tileBlockG == 0)
			{
				tileP = 1;
				if (glu > 0)
				{
					tileP = 0;
					glu--;
				}
				tileBlock = 1;
				tileBlockG = 1;
				tileBlockV = 0;
			}
			// Up
			else if ((event.keyCode == 83) && tileBlock == 0 && tileBlockV == 0)
			{
				tileP = 3;
				if (glu > 0)
				{
					tileP = 2;
					glu--;
				}
				tileBlock = 1;
				tileBlockG = 0;
				tileBlockV = 1;
			}
			// Down
			else if ((event.keyCode == 87) && tileBlock == 0 && tileBlockV == 0)
			{
				tileP = 2;
				if (glu > 0)
				{
					tileP = 3;
					glu--;
				}
				tileBlock = 1;
				tileBlockG = 0;
				tileBlockV = 1;
			}
			// Start - Stop
			else if ((event.keyCode == 32))
			{
				if(timerActive == false && trueCrash == 0 && trueCrashz == 0)
				{
					doTimer('start');
					doTimerz('start');
				}
				else if(timerActive == false)
				{
					doTimer('start');
				}
			}
		}

		function tilePathz()
		{
			// Left z
			if ((event.keyCode == 37) && tileBlockz == 0 && tileBlockGz == 0)
			{
				tilePz = 0;
				if (gluz > 0)
				{
					tilePz = 1;
					gluz--;
				}	
				tileBlockz = 1;
				tileBlockGz = 1;
				tileBlockVz = 0;
			}
			// Right z
			else if ((event.keyCode == 39) && tileBlockz == 0 && tileBlockGz == 0)
			{
				tilePz = 1;
				if (gluz > 0)
				{
					tilePz = 0;
					gluz--;
				}
				tileBlockz = 1;
				tileBlockGz = 1;
				tileBlockVz = 0;
			}
			// Up z
			else if ((event.keyCode == 40) && tileBlockz == 0 && tileBlockVz == 0)
			{
				tilePz = 3;
				if (gluz > 0)
				{
					tilePz = 2;
					gluz--;
				}
				tileBlockz = 1;
				tileBlockGz = 0;
				tileBlockVz = 1;
			}
			// Down z
			else if ((event.keyCode == 38) && tileBlockz == 0 && tileBlockVz == 0)
			{
				tilePz = 2;
				if (gluz > 0)
				{
					tilePz = 3;
					gluz--;
				}
				tileBlockz = 1;
				tileBlockGz = 0;
				tileBlockVz = 1;
			}
			// Start - Stop
			else if ((event.keyCode == 96))
			{
				if(timerActivez == false && trueCrash == 0 && trueCrashz == 0)
				{
					doTimer('start');
					doTimerz('start');
				}
				else if(timerActivez == false)
				{
					doTimerz('start');
				}
			}
		}
		
		driveX = 10;
		driveY = 9;
		
		driveXz = 10;
		driveYz = 11;
		
		function driveTile()
		{
			if(tileP == 0) //Left
			{
				if(driveY < 0)
				{
					driveY =  tileY - 1;
					masCol[1][1] = driveY;
				}
				
				if(driveCrash() == 0)
				{
					return;
				}
				
				if(mas[masCol[1][0]][masCol[1][1]].index == 2 || mas[masCol[1][0]][masCol[1][1]].index == 6 ||
					mas[masCol[1][0]][masCol[1][1]].index == 10 || mas[masCol[1][0]][masCol[1][1]].index == 11 ||
					mas[masCol[1][0]][masCol[1][1]].index == 12 || mas[masCol[1][0]][masCol[1][1]].index == 7 ||
					mas[masCol[1][0]][masCol[1][1]].index == 13 || mas[masCol[1][0]][masCol[1][1]].index == 14)
				{
					driveEat();
				}
				
				driveCollor(2);
				
				masCol[1][1]--;
				driveY--;
			}
			else if(tileP == 1) //Right
			{
				if(driveY >  tileY - 1)
				{
					driveY = 0;
					masCol[1][1] = driveY;
				}
				
				if(driveCrash() == 0)
				{
					return;
				}
				
				if(mas[masCol[1][0]][masCol[1][1]].index == 2 || mas[masCol[1][0]][masCol[1][1]].index == 6 ||
					mas[masCol[1][0]][masCol[1][1]].index == 10 || mas[masCol[1][0]][masCol[1][1]].index == 11 ||
					mas[masCol[1][0]][masCol[1][1]].index == 12 || mas[masCol[1][0]][masCol[1][1]].index == 7 ||
					mas[masCol[1][0]][masCol[1][1]].index == 13 || mas[masCol[1][0]][masCol[1][1]].index == 14)
				{
					driveEat();
				}
				
				driveCollor(1);
				
				masCol[1][1]++;
				driveY++;
			}
			else if(tileP == 2) //Up
			{
				if(driveX < 0)
				{
					driveX =  tileX - 1;
					masCol[1][0] = driveX;
				}
				
				if(driveCrash() == 0)
				{
					return;
				}
				
				if(mas[masCol[1][0]][masCol[1][1]].index == 2 || mas[masCol[1][0]][masCol[1][1]].index == 6 ||
					mas[masCol[1][0]][masCol[1][1]].index == 10 || mas[masCol[1][0]][masCol[1][1]].index == 11 ||
					mas[masCol[1][0]][masCol[1][1]].index == 12 || mas[masCol[1][0]][masCol[1][1]].index == 7 ||
					mas[masCol[1][0]][masCol[1][1]].index == 13 || mas[masCol[1][0]][masCol[1][1]].index == 14)
				{
					driveEat();
				}
				
				driveCollor(3);
				
				masCol[1][0]--;
				driveX--;
			}
			else if(tileP == 3) //Down
			{
				if(driveX >  tileX - 1)
				{
					driveX = 0;
					masCol[1][0] = driveX;
				}
				
				if(driveCrash() == 0)
				{
					return;
				}
				
				if(mas[masCol[1][0]][masCol[1][1]].index == 2 || mas[masCol[1][0]][masCol[1][1]].index == 6 ||
					mas[masCol[1][0]][masCol[1][1]].index == 10 || mas[masCol[1][0]][masCol[1][1]].index == 11 ||
					mas[masCol[1][0]][masCol[1][1]].index == 12 || mas[masCol[1][0]][masCol[1][1]].index == 7 ||
					mas[masCol[1][0]][masCol[1][1]].index == 13 || mas[masCol[1][0]][masCol[1][1]].index == 14)
				{
					driveEat();
				}
				
				driveCollor(4);
				
				masCol[1][0]++;
				driveX++;
			}
			
			tileBlock = 0;
		}
		
		function driveTilez()
		{
			if(tilePz == 0) //Left
			{
				if(driveYz < 0)
				{
					driveYz =  tileY - 1;
					masColz[1][1] = driveYz;
				}
				
				if(driveCrashz() == 0)
				{
					return;
				}
				
				if(mas[masColz[1][0]][masColz[1][1]].index == 2 || mas[masColz[1][0]][masColz[1][1]].index == 6 ||
					mas[masColz[1][0]][masColz[1][1]].index == 10 || mas[masColz[1][0]][masColz[1][1]].index == 11 ||
					mas[masColz[1][0]][masColz[1][1]].index == 12 || mas[masColz[1][0]][masColz[1][1]].index == 7 ||
					mas[masColz[1][0]][masColz[1][1]].index == 13 || mas[masColz[1][0]][masColz[1][1]].index == 14)
				{
					driveEatz();
				}
				
				driveCollorz(2);
				
				masColz[1][1]--;
				driveYz--;
			}
			else if(tilePz == 1) //Right
			{
				if(driveYz >  tileY - 1)
				{
					driveYz = 0;
					masColz[1][1] = driveYz;
				}
				
				if(driveCrashz() == 0)
				{
					return;
				}
				
				if(mas[masColz[1][0]][masColz[1][1]].index == 2 || mas[masColz[1][0]][masColz[1][1]].index == 6 ||
					mas[masColz[1][0]][masColz[1][1]].index == 10 || mas[masColz[1][0]][masColz[1][1]].index == 11 ||
					mas[masColz[1][0]][masColz[1][1]].index == 12 || mas[masColz[1][0]][masColz[1][1]].index == 7 ||
					mas[masColz[1][0]][masColz[1][1]].index == 13 || mas[masColz[1][0]][masColz[1][1]].index == 14)
				{
					driveEatz();
				}
				
				driveCollorz(1);
				
				masColz[1][1]++;
				driveYz++;
			}
			else if(tilePz == 2) //Up
			{
				if(driveXz < 0)
				{
					driveXz =  tileX - 1;
					masColz[1][0] = driveXz;
				}
				
				if(driveCrashz() == 0)
				{
					return;
				}
				
				if(mas[masColz[1][0]][masColz[1][1]].index == 2 || mas[masColz[1][0]][masColz[1][1]].index == 6 ||
					mas[masColz[1][0]][masColz[1][1]].index == 10 || mas[masColz[1][0]][masColz[1][1]].index == 11 ||
					mas[masColz[1][0]][masColz[1][1]].index == 12 || mas[masColz[1][0]][masColz[1][1]].index == 7 ||
					mas[masColz[1][0]][masColz[1][1]].index == 13 || mas[masColz[1][0]][masColz[1][1]].index == 14)
				{
					driveEatz();
				}
				
				driveCollorz(3);
				
				masColz[1][0]--;
				driveXz--;
			}
			else if(tilePz == 3) //Down
			{
				if(driveXz > tileX - 1)
				{
					driveXz = 0;
					masColz[1][0] = driveXz;
				}
				
				if(driveCrashz() == 0)
				{
					return;
				}
				
				if(mas[masColz[1][0]][masColz[1][1]].index == 2 || mas[masColz[1][0]][masColz[1][1]].index == 6 ||
					mas[masColz[1][0]][masColz[1][1]].index == 10 || mas[masColz[1][0]][masColz[1][1]].index == 11 ||
					mas[masColz[1][0]][masColz[1][1]].index == 12 || mas[masColz[1][0]][masColz[1][1]].index == 7 ||
					mas[masColz[1][0]][masColz[1][1]].index == 13 || mas[masColz[1][0]][masColz[1][1]].index == 14)
				{
					driveEatz();
				}
				
				driveCollorz(4);
				
				masColz[1][0]++;
				driveXz++;
			}
			
			tileBlockz = 0;
		}
		
		masCol = new Array();
		masCol[0] = new Array(2);
		masCol[0][0] = 10;
		masCol[0][1] = 9;
		masCol[1] = new Array(2);
		masCol[1][0] = 10;
		masCol[1][1] = 9;
		masCol[2] = new Array(2);
		masCol[2][0] = 10;
		masCol[2][1] = 9;
		masCol[3] = new Array(2);
		masCol[3][0] = 10;
		masCol[3][1] = 9;
		
		masColz = new Array();
		masColz[0] = new Array(2);
		masColz[0][0] = 10;
		masColz[0][1] = 11;
		masColz[1] = new Array(2);
		masColz[1][0] = 10;
		masColz[1][1] = 11;
		masColz[2] = new Array(2);
		masColz[2][0] = 10;
		masColz[2][1] = 11;
		masColz[3] = new Array(2);
		masColz[3][0] = 10;
		masColz[3][1] = 11;
		
		function driveCollor(n)
		{
			mas[masCol[0][0]][masCol[0][1]].style.background = "#553377";
			mas[masCol[0][0]][masCol[0][1]].index = 0;

			for(i = 2; i < masCol.length-1; i++)
			{
				if(notCrush == 0)
				{
					if(i % 2 == 0)
						mas[masCol[i][0]][masCol[i][1]].style.background = "no-repeat url(images/bodyS1.png)";
					else
						mas[masCol[i][0]][masCol[i][1]].style.background = "no-repeat url(images/bodyS2.png)";
				}
				else
				{
					if(i % 2 == 0)
						mas[masCol[i][0]][masCol[i][1]].style.background = "no-repeat url(images/bodyS1NC.png)";
					else
						mas[masCol[i][0]][masCol[i][1]].style.background = "no-repeat url(images/bodyS2NC.png)";
				}
				
				mas[masCol[i][0]][masCol[i][1]].index = 4;
			}
			
			mas[masCol[masCol.length-1][0]][masCol[masCol.length-1][1]].style.background = "no-repeat url(images/taleS.png)";
			mas[masCol[masCol.length-1][0]][masCol[masCol.length-1][1]].index = 5;
			
			
			if (glu > 0)
			{
				if(n == 1)
					mas[masCol[1][0]][masCol[1][1]].style.background = "no-repeat url(images/headSG1.png)";
				else if(n == 2)
					mas[masCol[1][0]][masCol[1][1]].style.background = "no-repeat url(images/headSG2.png)";
				else if(n == 3)
					mas[masCol[1][0]][masCol[1][1]].style.background = "no-repeat url(images/headSG3.png)";
				else
					mas[masCol[1][0]][masCol[1][1]].style.background = "no-repeat url(images/headSG4.png)";	
			}
			else
			{
				if(n == 1)
					mas[masCol[1][0]][masCol[1][1]].style.background = "no-repeat url(images/headS1.png)";
				else if(n == 2)
					mas[masCol[1][0]][masCol[1][1]].style.background = "no-repeat url(images/headS2.png)";
				else if(n == 3)
					mas[masCol[1][0]][masCol[1][1]].style.background = "no-repeat url(images/headS3.png)";
				else
					mas[masCol[1][0]][masCol[1][1]].style.background = "no-repeat url(images/headS4.png)";
			}
			
			mas[masCol[1][0]][masCol[1][1]].index = 3;
			
			masCol[0][0] = masCol[masCol.length - 1][0];
			masCol[0][1] = masCol[masCol.length - 1][1];
			
			for(i = masCol.length - 1; 1 < i; i--)
			{
				masCol[i][0] = masCol[i - 1][0];
				masCol[i][1] = masCol[i - 1][1];
			}
		}
		
		function driveCollorz(nz)
		{
			mas[masColz[0][0]][masColz[0][1]].style.background = "#553377";
			mas[masColz[0][0]][masColz[0][1]].index = 0;

			for(i = 2; i < masColz.length-1; i++)
			{
				if(notCrushz == 0)
				{
					if(i % 2 == 0)
						mas[masColz[i][0]][masColz[i][1]].style.background = "no-repeat url(images/bodyS1z.png)";
					else
						mas[masColz[i][0]][masColz[i][1]].style.background = "no-repeat url(images/bodyS2z.png)";
				}
				else
				{
					if(i % 2 == 0)
						mas[masColz[i][0]][masColz[i][1]].style.background = "no-repeat url(images/bodyS1NCz.png)";
					else
						mas[masColz[i][0]][masColz[i][1]].style.background = "no-repeat url(images/bodyS2NCz.png)";
				}
				mas[masColz[i][0]][masColz[i][1]].index = 4;
			}
			
			mas[masColz[masColz.length-1][0]][masColz[masColz.length-1][1]].style.background = "no-repeat url(images/taleSz.png)";
			mas[masColz[masColz.length-1][0]][masColz[masColz.length-1][1]].index = 5;
			
			
			if (gluz > 0)
			{
				if(nz == 1)
					mas[masColz[1][0]][masColz[1][1]].style.background = "no-repeat url(images/headSG1z.png)";
				else if(nz == 2)
					mas[masColz[1][0]][masColz[1][1]].style.background = "no-repeat url(images/headSG2z.png)";
				else if(nz == 3)
					mas[masColz[1][0]][masColz[1][1]].style.background = "no-repeat url(images/headSG3z.png)";
				else
					mas[masColz[1][0]][masColz[1][1]].style.background = "no-repeat url(images/headSG4z.png)";	
			}
			else
			{
				if(nz == 1)
					mas[masColz[1][0]][masColz[1][1]].style.background = "no-repeat url(images/headS1z.png)";
				else if(nz == 2)
					mas[masColz[1][0]][masColz[1][1]].style.background = "no-repeat url(images/headS2z.png)";
				else if(nz == 3)
					mas[masColz[1][0]][masColz[1][1]].style.background = "no-repeat url(images/headS3z.png)";
				else
					mas[masColz[1][0]][masColz[1][1]].style.background = "no-repeat url(images/headS4z.png)";
			}
			
			mas[masColz[1][0]][masColz[1][1]].index = 3;
			
			masColz[0][0] = masColz[masColz.length - 1][0];
			masColz[0][1] = masColz[masColz.length - 1][1];
			
			for(i = masColz.length - 1; 1 < i; i--)
			{
				masColz[i][0] = masColz[i - 1][0];
				masColz[i][1] = masColz[i - 1][1];
			}
		}
		
		intMin = 0;
		intMinz = 0;
		
		randFood = 0;
		randFoodz = 0;
		
		function driveEat()
		{
			var rand1 = Math.random() / ((1 / (tileX - 1)) - 0.001) + "";
			var rand2 = Math.random() / ((1 / (tileY - 1)) - 0.001) + "";
			var randF = Math.random() / 0.15 + "";
			
			var res1 = 0;
			var res2 = 0;
			var resF = 0;
			
			if(mas[masCol[1][0]][masCol[1][1]].index == 6)
			{
				return;
			}
			else if(mas[masCol[1][0]][masCol[1][1]].index == 7)
			{
				score++;
				scoreS.innerText = "счет: " + score;
				return;
			}
			
			for(i = 0; i < 3; i++)
			{
				if(rand1.charAt(i) == '.')
				{
					break;
				}
				switch (rand1.charAt(i))
				{
					case '0': res1 = res1 * 10; break;
					case '1': res1 = res1 * 10 + 1; break;
					case '2': res1 = res1 * 10 + 2; break;
					case '3': res1 = res1 * 10 + 3; break;
					case '4': res1 = res1 * 10 + 4; break;
					case '5': res1 = res1 * 10 + 5; break;
					case '6': res1 = res1 * 10 + 6; break;
					case '7': res1 = res1 * 10 + 7; break;
					case '8': res1 = res1 * 10 + 8; break;
					case '9': res1 = res1 * 10 + 9; break;
				}
			}
			for(i = 0; i < 3; i++)
			{
				if(rand2.charAt(i) == '.')
				{
					break;
				}
				switch (rand2.charAt(i))
				{
					case '0': res2 = res2 * 10; break;
					case '1': res2 = res2 * 10 + 1; break;
					case '2': res2 = res2 * 10 + 2; break;
					case '3': res2 = res2 * 10 + 3; break;
					case '4': res2 = res2 * 10 + 4; break;
					case '5': res2 = res2 * 10 + 5; break;
					case '6': res2 = res2 * 10 + 6; break;
					case '7': res2 = res2 * 10 + 7; break;
					case '8': res2 = res2 * 10 + 8; break;
					case '9': res2 = res2 * 10 + 9; break;
				}
			}
			for(i = 0; i < 3; i++)
			{
				if(randF.charAt(i) == '.')
				{
					break;
				}
				switch (randF.charAt(i))
				{
					case '0': resF = resF * 10; break;
					case '1': resF = resF * 10 + 1; break;
					case '2': resF = resF * 10 + 2; break;
					case '3': resF = resF * 10 + 3; break;
					case '4': resF = resF * 10 + 4; break;
					case '5': resF = resF * 10 + 5; break;
					case '6': resF = resF * 10 + 6; break;
					case '7': resF = resF * 10 + 7; break;
					case '8': resF = resF * 10 + 8; break;
					case '9': resF = resF * 10 + 9; break;
				}
			}
			
			if(mas[res1][res2].index != 0)
			{
				driveEat();
				return;
			}
			
			if(timerActive == true)
			{
				masCol[masCol.length] = new Array(2);
				masCol[masCol.length-1][0] = masCol[1][0];
				masCol[masCol.length-1][1] = masCol[1][1];
				
				score++;
				
				if(mas[masCol[1][0]][masCol[1][1]].index == 10)
				{
					score += 4;
				}
				else if(mas[masCol[1][0]][masCol[1][1]].index == 12)
				{
					score -= 4;
				}
				else if(mas[masCol[1][0]][masCol[1][1]].index == 11)
				{
					interv *= 2;
					doTimer('stop');
					doTimer('start');
					intMin = 10;
				}
				else if(mas[masCol[1][0]][masCol[1][1]].index == 13)
				{
					notCrush = 20;
				}
				else if(mas[masCol[1][0]][masCol[1][1]].index == 14)
				{
					glu = 7;
				}
				
				scoreS.innerText = "счет: " + score;
				
				randFood++;
				
				if(randFood == 3)
				{
					randFood = 0;
					
					if(resF == 1)
					{
						mas[res1][res2].style.background = "no-repeat url(images/eatSS.png)";
						mas[res1][res2].index = 10;
						
						return;
					}
					else if(resF == 2)
					{
						mas[res1][res2].style.background = "no-repeat url(images/eatSSL.png)";
						mas[res1][res2].index = 11;
						
						return;
					}
					else if(resF == 3)
					{
						mas[res1][res2].style.background = "no-repeat url(images/eatSSP.png)";
						mas[res1][res2].index = 12;
						
						return;
					}
					else if(resF == 4)
					{
						mas[res1][res2].style.background = "no-repeat url(images/eatSSNC.png)";
						mas[res1][res2].index = 13;
						
						return;
					}
					else if(resF == 5)
					{
						mas[res1][res2].style.background = "no-repeat url(images/eatSSG.png)";
						mas[res1][res2].index = 14;
						
						return;
					}
				}
			}
			
			mas[res1][res2].style.background = "no-repeat url(images/eatS.png)";
			mas[res1][res2].index = 2;
		}
		
		function driveEatz()
		{
			var rand1z = Math.random() / ((1 / (tileX - 1)) - 0.001) + "";
			var rand2z = Math.random() / ((1 / (tileY - 1)) - 0.001) + "";
			var randFz = Math.random() / 0.15 + "";
			
			var res1z = 0;
			var res2z = 0;
			var resFz = 0;
			
			if(mas[masColz[1][0]][masColz[1][1]].index == 7)
			{
				return;
			}
			else if(mas[masColz[1][0]][masColz[1][1]].index == 6)
			{
				scorez++;
				scoreSz.innerText = "счет: " + scorez;
				return;
			}
			
			for(i = 0; i < 3; i++)
			{
				if(rand1z.charAt(i) == '.')
				{
					break;
				}
				switch (rand1z.charAt(i))
				{
					case '0': res1z = res1z * 10; break;
					case '1': res1z = res1z * 10 + 1; break;
					case '2': res1z = res1z * 10 + 2; break;
					case '3': res1z = res1z * 10 + 3; break;
					case '4': res1z = res1z * 10 + 4; break;
					case '5': res1z = res1z * 10 + 5; break;
					case '6': res1z = res1z * 10 + 6; break;
					case '7': res1z = res1z * 10 + 7; break;
					case '8': res1z = res1z * 10 + 8; break;
					case '9': res1z = res1z * 10 + 9; break;
				}
			}
			for(i = 0; i < 3; i++)
			{
				if(rand2z.charAt(i) == '.')
				{
					break;
				}
				switch (rand2z.charAt(i))
				{
					case '0': res2z = res2z * 10; break;
					case '1': res2z = res2z * 10 + 1; break;
					case '2': res2z = res2z * 10 + 2; break;
					case '3': res2z = res2z * 10 + 3; break;
					case '4': res2z = res2z * 10 + 4; break;
					case '5': res2z = res2z * 10 + 5; break;
					case '6': res2z = res2z * 10 + 6; break;
					case '7': res2z = res2z * 10 + 7; break;
					case '8': res2z = res2z * 10 + 8; break;
					case '9': res2z = res2z * 10 + 9; break;
				}
			}
			for(i = 0; i < 3; i++)
			{
				if(randFz.charAt(i) == '.')
				{
					break;
				}
				switch (randFz.charAt(i))
				{
					case '0': resFz = resFz * 10; break;
					case '1': resFz = resFz * 10 + 1; break;
					case '2': resFz = resFz * 10 + 2; break;
					case '3': resFz = resFz * 10 + 3; break;
					case '4': resFz = resFz * 10 + 4; break;
					case '5': resFz = resFz * 10 + 5; break;
					case '6': resFz = resFz * 10 + 6; break;
					case '7': resFz = resFz * 10 + 7; break;
					case '8': resFz = resFz * 10 + 8; break;
					case '9': resFz = resFz * 10 + 9; break;
				}
			}
			
			if(mas[res1z][res2z].index != 0)
			{
				driveEatz();
				return;
			}
			
			if(timerActivez == true)
			{
				masColz[masColz.length] = new Array(2);
				masColz[masColz.length-1][0] = masColz[1][0];
				masColz[masColz.length-1][1] = masColz[1][1];
				
				scorez++;
				
				if(mas[masColz[1][0]][masColz[1][1]].index == 10)
				{
					scorez += 4;
				}
				else if(mas[masColz[1][0]][masColz[1][1]].index == 12)
				{
					scorez -= 4;
				}
				else if(mas[masColz[1][0]][masColz[1][1]].index == 11)
				{
					intervz *= 2;
					doTimerz('stop');
					doTimerz('start');
					intMinz = 10;
				}
				else if(mas[masColz[1][0]][masColz[1][1]].index == 13)
				{
					notCrushz = 20;
				}
				else if(mas[masColz[1][0]][masColz[1][1]].index == 14)
				{
					gluz = 7;
				}
				
				scoreSz.innerText = "счет: " + scorez;
				
				randFoodz++;
				
				if(randFoodz == 3)
				{
					randFoodz = 0;
					
					if(resFz == 1)
					{
						mas[res1z][res2z].style.background = "no-repeat url(images/eatSS.png)";
						mas[res1z][res2z].index = 10;
						
						return;
					}
					else if(resFz == 2)
					{
						mas[res1z][res2z].style.background = "no-repeat url(images/eatSSL.png)";
						mas[res1z][res2z].index = 11;
						
						return;
					}
					else if(resFz == 3)
					{
						mas[res1z][res2z].style.background = "no-repeat url(images/eatSSP.png)";
						mas[res1z][res2z].index = 12;
						
						return;
					}
					else if(resFz == 4)
					{
						mas[res1z][res2z].style.background = "no-repeat url(images/eatSSNC.png)";
						mas[res1z][res2z].index = 13;
						
						return;
					}
					else if(resFz == 5)
					{
						mas[res1z][res2z].style.background = "no-repeat url(images/eatSSG.png)";
						mas[res1z][res2z].index = 14;
						
						return;
					}
				}
			}
			
			mas[res1z][res2z].style.background = "no-repeat url(images/eatS.png)";
			mas[res1z][res2z].index = 2;
		}
		
		glu = 0;
		gluz = 0;
		
		var score = 0;
		var scoreL = 0;
		var scorez = 0;
		var scoreLz = 0;
		
		trueCrash = 0;
		trueCrashz = 0;
		
		notCrush = 10;
		notCrushz = 10;
		
		function driveCrash()
		{
			if(masCol[1][0] == -1)
				masCol[1][0] = tileX-1;
			else if(masCol[1][0] == tileX)
				masCol[1][0] = 0;
			if(masCol[1][1] == -1)
				masCol[1][1] = tileY-1;
			else if(masCol[1][1] == tileY)
				masCol[1][1] = 0;
			
			if(notCrush > 0)
			{
				notCrush--;
				return 1;
			}
			
			var tmp = mas[masCol[1][0]][masCol[1][1]].index;
			
			if(tmp == 1 || tmp == 3 || tmp == 4 || tmp == 5)
			{
				for(i = 2; i < masCol.length; i ++)
				{
					mas[masCol[i][0]][masCol[i][1]].style.background = "no-repeat url(images/crashS.png)";
					mas[masCol[i][0]][masCol[i][1]].index = 6;
				}
				
				if(scoreL < score)
				{
					scoreSS.innerText = "рекорд: " + score;
					scoreL = score;
				}
				
				scoreS.innerText = "счет: 0";
				score = 0;
				
				doTimer('stop');
				intrv = 150;
				trueCrash = 1;
				
				return 0;
			}
		}
		
		function driveCrashz()
		{
			if(masColz[1][0] == -1)
				masColz[1][0] = tileX-1;
			else if(masColz[1][0] == tileX)
				masColz[1][0] = 0;
			if(masColz[1][1] == -1)
				masColz[1][1] = tileY-1;
			else if(masColz[1][1] == tileY)
				masColz[1][1] = 0;
			
			if(notCrushz > 0)
			{
				notCrushz--;
				return 1;
			}
			
			var tmpz = mas[masColz[1][0]][masColz[1][1]].index;
			
			if(tmpz == 1 || tmpz == 3 || tmpz == 4 || tmpz == 5)
			{
				for(i = 2; i < masColz.length; i ++)
				{
					mas[masColz[i][0]][masColz[i][1]].style.background = "no-repeat url(images/crashSz.png)";
					mas[masColz[i][0]][masColz[i][1]].index = 7;
				}
				
				if(scoreLz < scorez)
				{
					scoreSSz.innerText = "рекорд: " + scorez;
					scoreLz = scorez;
				}
				
				scoreSz.innerText = "счет: 0";
				scorez = 0;
				
				doTimerz('stop');
				intrvz = 150;
				trueCrashz = 1;
				
				return 0;
			}
		}
		
		var hhh = 0;
		
		function eatOrCruch()
		{
			if(hhh == 0)
			{ 
				hhh = 1;
				divBut3.style.background = "#888888";
			} 
			else  if(hhh == 1)
			{ 
				hhh = 2;
				divBut3.style.background = "#553377"; 
			}
			else if(hhh == 2)
			{
				hhh = 0;
				divBut3.style.background = "#FF1188"; 
			}
		}
		
		function restart()
		{
			if(timerActive == false && timerActivez == false )
			{
				for(i = 0; i < tileX; i++)
				{	
					for(j = 0; j < tileY; j++)
					{
						if(mas[i][j].index != 1)
						{
							mas[i][j].index = 0;
							mas[i][j].style.background = "#553377";
						}
					}
				}
				
				driveEat();
				driveEat();
				driveEat();
				driveEat();
				driveEat();
				driveEat();
				driveEat();
				
				restS();
				restSz();
				
				scoreS.innerText = "счет: 0";
				score = 0;
				scoreSz.innerText = "счет: 0";
				scorez = 0;
				scoreSS.innerText = "рекорд: 0";
				scoreL = 0;
				scoreSSz.innerText = "рекорд: 0";
				scoreLz = 0;
			}
		}
		
		function restS()
		{
			driveX = 10;
			driveY = 9;
				
			masCol = new Array();
			masCol[0] = new Array(2);
			masCol[0][0] = 10;
			masCol[0][1] = 9;
			masCol[1] = new Array(2);
			masCol[1][0] = 10;
			masCol[1][1] = 9;
			masCol[2] = new Array(2);
			masCol[2][0] = 10;
			masCol[2][1] = 9;
			masCol[3] = new Array(2);
			masCol[3][0] = 10;
			masCol[3][1] = 9;
			
			mas[10][9].style.background = "no-repeat url(images/headS2.png)";
			mas[10][9].index = 3;
			
			notCrush = 10;
			glu = 0;
			
			tileP = 0;
			tileBlockG = 1;
			tileBlockV = 0;
		}
		
		function restSz()
		{
			driveXz = 10;
			driveYz = 11;
				
			masColz = new Array();
			masColz[0] = new Array(2);
			masColz[0][0] = 10;
			masColz[0][1] = 11;
			masColz[1] = new Array(2);
			masColz[1][0] = 10;
			masColz[1][1] = 11;
			masColz[2] = new Array(2);
			masColz[2][0] = 10;
			masColz[2][1] = 11;
			masColz[3] = new Array(2);
			masColz[3][0] = 10;
			masColz[3][1] = 11;
			
			mas[10][11].style.background = "no-repeat url(images/headS1z.png)";
			mas[10][11].index = 3;
			
			notCrushz = 10;
			gluz = 0;
			
			tilePz = 1;
			tileBlockGz = 1;
			tileBlockVz = 0;
		}
		
		var countT = 0;
		
		function srcTile()
		{
			for(i = 0; i < tileX; i++)
			{
				for(j = 0; j < tileY; j++)
				{
					mas[i][j] = document.getElementById("div" + countT + "T");
					countT++;
				}
			}
		}
		
//		INDEX :
//		
//		0 - пустое поле
//		1 - препятствие
//		2 - обычная еда
//		3 - голова змеи
//		4 - тело змеи
//		5 - хвост змеи
//		6 - мертвое тело 1
//		7 - мертвое тело 2
//		8 - 
//		9 - 
//		10 - +5 очков
//		11 - замедление
//		12 - -3 очка
//		13 - неуязвимость
//		14 - инверсия
//
		
	</script>
</head>

<body onKeyDown="keyDown()" unselectable="on" scroll="no">
	
	<div>
		<span id="timerS"></span>
		<span id="timerSD"></span>
		<span id="timerSDS"></span>
		<span id="timerSDSD"></span>
	</div>
	
	
	
	<script>
		var tileX = 21; //Размер поля по вертикали
		var tileY = 21; //Размер поля по горизонтали
		
		var tileCount = 0;
		
		var mas = new Array(tileX);
		 
		for(i = 0; i < mas.length; i++)
		{
			mas[i] = new Array(tileY);
		}
		
		for(i = 0; i < tileY; i++)
		{
			for(j = 0; j < tileX; j++)
			{
				var tY = i * 33 + 5;
				var tX = j * 33 + 5;
				document.writeln("<div class='divTile' name='"+tileCount+"' id='div" + tileCount + "T' onclick='plusT(this.id)'  index='0' style='left:" + tX + "px; top: " + tY + "px; text-align: center; background: #553377; font-size: 10px;'></div>");
				
				tileCount += 1;
			}
		}
		
		// <p>" + i + "/" + j + " - " + tileCount + "</p>
		
		srcTile();
		
		mas[10][9].style.background = "no-repeat url(images/headS2.png)";
		mas[10][9].index = 3;
		mas[10][11].style.background = "no-repeat url(images/headS1z.png)";
		mas[10][11].index = 3;
		
		driveEat();
		driveEat();
		driveEat();
		driveEat();
		driveEat();
		driveEat();
		driveEat();
		
		mas[10][9].index = 0;
		mas[10][11].index = 0;
		
		
	</script>
	
	<div class="divBut1" id="divBut1" onclick="stopOrStart();"></div>
	<div class="divBut2" id="divBut2" onclick="mapSet();"></div>
	<div class="divBut3" id="divBut3" onclick="eatOrCruch();"></div>
	<div class="divBut4" id="divBut4" onclick="restart();"></div>
	<span class="p1">старт</span>
	<span class="p2">карта</span>
	<span class="p3">редактор</span>
	<span class="p4">рестарт</span>
	<div>
		<span id="scoreS">счет: 0</span>
		<span id="scoreSS">рекорд: 0</span>
		<span id="scoreSz">счет: 0</span>
		<span id="scoreSSz">рекорд: 0</span>
	</div>
	
	
	<noscript><h3>Скрипт выключен, измени настройки безопасность (желтая полоска сверху)</h3></noscript>
</body>
</html>




